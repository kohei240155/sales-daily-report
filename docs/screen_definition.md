# 営業日報システム 画面定義書

## 目次

1. [画面一覧](#画面一覧)
2. [画面詳細](#画面詳細)
   - [ログイン画面](#1-ログイン画面)
   - [日報一覧画面](#2-日報一覧画面)
   - [日報作成・編集画面](#3-日報作成編集画面)
   - [日報詳細画面](#4-日報詳細画面)
   - [顧客マスタ一覧画面](#5-顧客マスタ一覧画面)
   - [顧客マスタ登録・編集画面](#6-顧客マスタ登録編集画面)
   - [営業マスタ一覧画面](#7-営業マスタ一覧画面)
   - [営業マスタ登録・編集画面](#8-営業マスタ登録編集画面)

---

## 画面一覧

| No  | 画面ID  | 画面名                   | 対象ユーザー | 説明                     |
| --- | ------- | ------------------------ | ------------ | ------------------------ |
| 1   | SCR-001 | ログイン画面             | 全員         | システムへのログイン     |
| 2   | SCR-002 | 日報一覧画面             | 全員         | 日報の一覧表示・検索     |
| 3   | SCR-003 | 日報作成・編集画面       | 営業担当者   | 日報の新規作成・編集     |
| 4   | SCR-004 | 日報詳細画面             | 全員         | 日報の詳細表示・コメント |
| 5   | SCR-005 | 顧客マスタ一覧画面       | 全員         | 顧客情報の一覧表示       |
| 6   | SCR-006 | 顧客マスタ登録・編集画面 | 管理者       | 顧客情報の登録・編集     |
| 7   | SCR-007 | 営業マスタ一覧画面       | 管理者       | 営業担当者の一覧表示     |
| 8   | SCR-008 | 営業マスタ登録・編集画面 | 管理者       | 営業担当者の登録・編集   |

---

## 画面詳細

### 1. ログイン画面

**画面ID**: SCR-001

#### 画面概要

システムへのログインを行う画面

#### 表示項目

| 項目名         | 形式           | 必須 | 備考       |
| -------------- | -------------- | ---- | ---------- |
| メールアドレス | テキスト入力   | ○    | ログインID |
| パスワード     | パスワード入力 | ○    | 非表示     |

#### 操作

| ボタン名 | 処理内容                                     |
| -------- | -------------------------------------------- |
| ログイン | 認証処理を実行し、成功時は日報一覧画面へ遷移 |

#### バリデーション

- メールアドレス、パスワードが未入力の場合はエラー
- 認証失敗時は「メールアドレスまたはパスワードが正しくありません」と表示

---

### 2. 日報一覧画面

**画面ID**: SCR-002

#### 画面概要

登録済みの日報を一覧表示し、検索・絞り込みを行う画面

#### 表示項目（検索条件）

| 項目名           | 形式       | 必須 | 備考                         |
| ---------------- | ---------- | ---- | ---------------------------- |
| 営業担当者       | プルダウン | -    | 上長は全員分、営業は自分のみ |
| 日報日付（開始） | 日付入力   | -    | カレンダー選択               |
| 日報日付（終了） | 日付入力   | -    | カレンダー選択               |

#### 表示項目（一覧）

| 項目名       | 形式     | 備考                   |
| ------------ | -------- | ---------------------- |
| 日報日付     | テキスト | YYYY/MM/DD形式         |
| 営業担当者名 | テキスト | -                      |
| 訪問件数     | 数値     | 当日の訪問記録件数     |
| コメント数   | 数値     | 上長からのコメント件数 |
| 登録日時     | テキスト | YYYY/MM/DD HH:MM       |

#### 操作

| ボタン名 | 処理内容                                   |
| -------- | ------------------------------------------ |
| 検索     | 検索条件に基づいて一覧を絞り込み           |
| クリア   | 検索条件をクリア                           |
| 新規作成 | 日報作成・編集画面へ遷移（営業担当者のみ） |
| 行選択   | 該当日報の詳細画面へ遷移                   |

#### 画面遷移

- 新規作成ボタン → 日報作成・編集画面（新規）
- 行選択 → 日報詳細画面

#### 権限

- 営業担当者：自分の日報のみ表示・作成可能
- 上長：配下メンバーの日報を全て表示可能

---

### 3. 日報作成・編集画面

**画面ID**: SCR-003

#### 画面概要

日報の新規作成または編集を行う画面

#### 表示項目（基本情報）

| 項目名     | 形式         | 必須 | 備考                             |
| ---------- | ------------ | ---- | -------------------------------- |
| 日報日付   | 日付入力     | ○    | カレンダー選択、デフォルトは今日 |
| 営業担当者 | テキスト表示 | -    | ログインユーザー、変更不可       |

#### 表示項目（訪問記録）

| 項目名   | 形式           | 必須 | 備考               |
| -------- | -------------- | ---- | ------------------ |
| 訪問時刻 | 時刻入力       | -    | HH:MM形式          |
| 顧客名   | プルダウン     | ○    | 顧客マスタから選択 |
| 訪問内容 | テキストエリア | ○    | 1000文字まで       |

#### 表示項目（その他）

| 項目名                | 形式           | 必須 | 備考         |
| --------------------- | -------------- | ---- | ------------ |
| 課題・相談（Problem） | テキストエリア | -    | 2000文字まで |
| 明日の予定（Plan）    | テキストエリア | -    | 2000文字まで |

#### 操作

| ボタン名     | 処理内容                             |
| ------------ | ------------------------------------ |
| 訪問記録追加 | 訪問記録の入力行を追加               |
| 訪問記録削除 | 選択した訪問記録行を削除             |
| 保存         | 入力内容を保存し、日報一覧画面へ戻る |
| キャンセル   | 入力内容を破棄し、日報一覧画面へ戻る |

#### バリデーション

- 日報日付が未入力の場合はエラー
- 訪問記録が1件も登録されていない場合はエラー
- 訪問記録の顧客名、訪問内容が未入力の場合はエラー
- 同一日付の日報が既に存在する場合はエラー（編集時を除く）

#### 画面遷移

- 保存成功 → 日報一覧画面
- キャンセル → 日報一覧画面

---

### 4. 日報詳細画面

**画面ID**: SCR-004

#### 画面概要

日報の詳細を表示し、上長がコメントを記載する画面

#### 表示項目（基本情報）

| 項目名       | 形式     | 備考             |
| ------------ | -------- | ---------------- |
| 日報日付     | テキスト | YYYY/MM/DD形式   |
| 営業担当者名 | テキスト | -                |
| 登録日時     | テキスト | YYYY/MM/DD HH:MM |

#### 表示項目（訪問記録一覧）

| 項目名   | 形式     | 備考      |
| -------- | -------- | --------- |
| 訪問時刻 | テキスト | HH:MM形式 |
| 顧客名   | テキスト | -         |
| 会社名   | テキスト | -         |
| 訪問内容 | テキスト | -         |

#### 表示項目（その他）

| 項目名                | 形式     | 備考 |
| --------------------- | -------- | ---- |
| 課題・相談（Problem） | テキスト | -    |
| 明日の予定（Plan）    | テキスト | -    |

#### 表示項目（コメント一覧）

| 項目名       | 形式     | 備考             |
| ------------ | -------- | ---------------- |
| コメント者名 | テキスト | -                |
| コメント内容 | テキスト | -                |
| コメント日時 | テキスト | YYYY/MM/DD HH:MM |

#### 表示項目（コメント入力）

| 項目名       | 形式           | 必須 | 備考         |
| ------------ | -------------- | ---- | ------------ |
| コメント内容 | テキストエリア | ○    | 1000文字まで |

#### 操作

| ボタン名     | 処理内容                               | 権限     |
| ------------ | -------------------------------------- | -------- |
| 編集         | 日報作成・編集画面へ遷移（編集モード） | 本人のみ |
| 削除         | 日報を削除し、一覧画面へ戻る           | 本人のみ |
| コメント追加 | コメントを登録し、画面を再表示         | 上長のみ |
| 戻る         | 日報一覧画面へ戻る                     | 全員     |

#### バリデーション

- コメント内容が未入力の場合はエラー

#### 画面遷移

- 編集ボタン → 日報作成・編集画面（編集）
- 削除成功 → 日報一覧画面
- 戻るボタン → 日報一覧画面

---

### 5. 顧客マスタ一覧画面

**画面ID**: SCR-005

#### 画面概要

登録済みの顧客情報を一覧表示し、検索を行う画面

#### 表示項目（検索条件）

| 項目名 | 形式         | 必須 | 備考         |
| ------ | ------------ | ---- | ------------ |
| 顧客名 | テキスト入力 | -    | 部分一致検索 |
| 会社名 | テキスト入力 | -    | 部分一致検索 |

#### 表示項目（一覧）

| 項目名         | 形式     | 備考       |
| -------------- | -------- | ---------- |
| 顧客ID         | 数値     | -          |
| 顧客名         | テキスト | -          |
| 会社名         | テキスト | -          |
| 電話番号       | テキスト | -          |
| メールアドレス | テキスト | -          |
| 登録日時       | テキスト | YYYY/MM/DD |

#### 操作

| ボタン名 | 処理内容                                     | 権限       |
| -------- | -------------------------------------------- | ---------- |
| 検索     | 検索条件に基づいて一覧を絞り込み             | 全員       |
| クリア   | 検索条件をクリア                             | 全員       |
| 新規登録 | 顧客マスタ登録・編集画面へ遷移               | 管理者のみ |
| 行選択   | 顧客マスタ登録・編集画面へ遷移（編集モード） | 管理者のみ |

#### 画面遷移

- 新規登録ボタン → 顧客マスタ登録・編集画面（新規）
- 行選択 → 顧客マスタ登録・編集画面（編集）

---

### 6. 顧客マスタ登録・編集画面

**画面ID**: SCR-006

#### 画面概要

顧客情報の新規登録または編集を行う画面

#### 表示項目

| 項目名         | 形式         | 必須 | 備考                     |
| -------------- | ------------ | ---- | ------------------------ |
| 顧客ID         | テキスト表示 | -    | 編集時のみ表示、自動採番 |
| 顧客名         | テキスト入力 | ○    | 100文字まで              |
| 会社名         | テキスト入力 | ○    | 200文字まで              |
| 電話番号       | テキスト入力 | -    | ハイフン含む             |
| メールアドレス | テキスト入力 | -    | メール形式               |
| 住所           | テキスト入力 | -    | 500文字まで              |

#### 操作

| ボタン名   | 処理内容                                       |
| ---------- | ---------------------------------------------- |
| 保存       | 入力内容を保存し、顧客マスタ一覧画面へ戻る     |
| 削除       | 顧客情報を削除し、一覧画面へ戻る（編集時のみ） |
| キャンセル | 入力内容を破棄し、顧客マスタ一覧画面へ戻る     |

#### バリデーション

- 顧客名、会社名が未入力の場合はエラー
- メールアドレスが形式不正の場合はエラー
- 削除時、訪問記録に紐づいている場合はエラー

#### 画面遷移

- 保存成功 → 顧客マスタ一覧画面
- 削除成功 → 顧客マスタ一覧画面
- キャンセル → 顧客マスタ一覧画面

---

### 7. 営業マスタ一覧画面

**画面ID**: SCR-007

#### 画面概要

登録済みの営業担当者情報を一覧表示し、検索を行う画面

#### 表示項目（検索条件）

| 項目名       | 形式         | 必須 | 備考         |
| ------------ | ------------ | ---- | ------------ |
| 営業担当者名 | テキスト入力 | -    | 部分一致検索 |
| 部署         | プルダウン   | -    | -            |

#### 表示項目（一覧）

| 項目名         | 形式     | 備考       |
| -------------- | -------- | ---------- |
| 営業ID         | 数値     | -          |
| 営業担当者名   | テキスト | -          |
| メールアドレス | テキスト | -          |
| 部署           | テキスト | -          |
| 役職           | テキスト | -          |
| 登録日時       | テキスト | YYYY/MM/DD |

#### 操作

| ボタン名 | 処理内容                                     |
| -------- | -------------------------------------------- |
| 検索     | 検索条件に基づいて一覧を絞り込み             |
| クリア   | 検索条件をクリア                             |
| 新規登録 | 営業マスタ登録・編集画面へ遷移               |
| 行選択   | 営業マスタ登録・編集画面へ遷移（編集モード） |

#### 画面遷移

- 新規登録ボタン → 営業マスタ登録・編集画面（新規）
- 行選択 → 営業マスタ登録・編集画面（編集）

---

### 8. 営業マスタ登録・編集画面

**画面ID**: SCR-008

#### 画面概要

営業担当者情報の新規登録または編集を行う画面

#### 表示項目

| 項目名             | 形式           | 必須 | 備考                             |
| ------------------ | -------------- | ---- | -------------------------------- |
| 営業ID             | テキスト表示   | -    | 編集時のみ表示、自動採番         |
| 営業担当者名       | テキスト入力   | ○    | 100文字まで                      |
| メールアドレス     | テキスト入力   | ○    | メール形式、ログインIDとして使用 |
| パスワード         | パスワード入力 | ○    | 新規登録時のみ必須、8文字以上    |
| パスワード（確認） | パスワード入力 | ○    | 新規登録時のみ必須               |
| 部署               | プルダウン     | ○    | -                                |
| 役職               | プルダウン     | ○    | 一般/主任/係長/課長/部長 など    |

#### 操作

| ボタン名   | 処理内容                                             |
| ---------- | ---------------------------------------------------- |
| 保存       | 入力内容を保存し、営業マスタ一覧画面へ戻る           |
| 削除       | 営業担当者情報を削除し、一覧画面へ戻る（編集時のみ） |
| キャンセル | 入力内容を破棄し、営業マスタ一覧画面へ戻る           |

#### バリデーション

- 営業担当者名、メールアドレス、部署、役職が未入力の場合はエラー
- メールアドレスが形式不正の場合はエラー
- メールアドレスが既に登録されている場合はエラー（編集時、自分を除く）
- パスワードが8文字未満の場合はエラー
- パスワードとパスワード（確認）が一致しない場合はエラー
- 削除時、日報やコメントに紐づいている場合はエラー

#### 画面遷移

- 保存成功 → 営業マスタ一覧画面
- 削除成功 → 営業マスタ一覧画面
- キャンセル → 営業マスタ一覧画面

---

## 共通仕様

### ヘッダー

全画面共通で以下を表示

- システム名：「営業日報システム」
- ログインユーザー名
- ログアウトボタン

### ナビゲーションメニュー

- 日報一覧
- 顧客マスタ（管理者のみ表示）
- 営業マスタ（管理者のみ表示）

### エラー表示

- バリデーションエラーは該当項目の下に赤字で表示
- システムエラーは画面上部にエラーメッセージを表示

### 権限

- **営業担当者**：自分の日報の作成・編集・削除、顧客マスタの参照
- **上長**：配下メンバーの日報閲覧・コメント、顧客マスタの参照
- **管理者**：全機能の利用が可能

---

## 改訂履歴

| 版数 | 改訂日     | 改訂者 | 改訂内容 |
| ---- | ---------- | ------ | -------- |
| 1.0  | 2026/01/02 | -      | 初版作成 |
